<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.anylogic.ssystem.bms.com.mapper.BmsTcodeMapper">

    <resultMap id="selectCodeCategoryListMap" type="com.anylogic.ssystem.bms.com.model.SelectCodeCategoryListResVO">
        <id column="tcodeid" property="tcodeid" />                    <!--  -->
        <result column="tcodename" property="tcodename" />            <!--  -->
        <result column="modifyflag" property="modifyflag" />          <!--  -->
        <result column="description" property="description" />        <!--  -->
        <result column="inid" property="inid" />                      <!--  -->
        <result column="indt" property="indt" />                      <!--  -->
        <result column="upid" property="upid" />                      <!--  -->
        <result column="updt" property="updt" />                      <!--  -->
    </resultMap>

    <resultMap id="getCodeCategoryDetailMap" type="com.anylogic.ssystem.bms.com.model.GetCodeCategoryDetailResVO">
        <id column="tcodeid" property="tcodeid" />                    <!--  -->
        <result column="tcodename" property="tcodename" />            <!--  -->
        <result column="modifyflag" property="modifyflag" />          <!--  -->
        <result column="description" property="description" />        <!--  -->
        <result column="inid" property="inid" />                      <!--  -->
        <result column="indt" property="indt" />                      <!--  -->
        <result column="upid" property="upid" />                      <!--  -->
        <result column="updt" property="updt" />                      <!--  -->
    </resultMap>


    <!-- 시스템관리 > 코드관리 > 코드분류 목록 조회 -->
    <select id="selectCodeCategoryList" parameterType="com.anylogic.ssystem.bms.com.model.SelectCodeCategoryListReqVO" resultMap="selectCodeCategoryListMap">
        SELECT
            tcodeid as "tcodeid" 
            , tcodename as "tcodename" 
            , modifyflag as "modifyflag" 
            , description as "description" 
            , inid as "inid" 
            , indt as "indt" 
            , upid as "upid" 
            , updt as "updt" 
        FROM  sbms.sbms_user.bms_tcode
        WHERE 1 = 1
            <if test="tcodeid != null and tcodeid !=''"> 
                and tcodeid like CONCAT('%', #{tcodeid}, '%')
            </if>
            <if test="tcodename != null and tcodename !=''"> 
                and tcodename like CONCAT('%', #{tcodename}, '%') 
            </if>
        ORDER BY tcodeid ASC
    </select>

    <!-- 시스템관리 > 코드관리 > 코드분류 삭제 -->
    <delete id="deleteCodeCategory" parameterType="com.anylogic.ssystem.bms.com.model.DeleteCodeCategoryReqVO">
        DELETE FROM sbms.sbms_user.bms_tcode
        WHERE 1 = 1
            <if test="tcodeid != null and tcodeid !=''"> 
                and tcodeid = #{tcodeid} 
            </if>
    </delete>

    <!-- 시스템관리 > 코드관리 > 코드분류 등록 -->
    <insert id="insertCodeCategory" parameterType="com.anylogic.ssystem.bms.com.model.InsertCodeCategoryReqVO">
        INSERT INTO
        sbms.sbms_user.bms_tcode(
            <trim suffixOverrides=",">
            <if test="tcodeid != null and tcodeid !=''">
                tcodeid,
            </if>
            <if test="tcodename != null and tcodename !=''">
                tcodename,
            </if>
            <if test="modifyflag != null and modifyflag !=''">
                modifyflag,
            </if>
            <if test="description != null and description !=''">
                description,
            </if>
            <if test="inid != null and inid !=''">
                inid,
            </if>
            <if test="indt != null and indt !=''">
                indt,
            </if>
            <if test="upid != null and upid !=''">
                upid,
            </if>
            <if test="updt != null and updt !=''">
                updt,
            </if>
            </trim>
        )
        VALUES(
            <trim suffixOverrides=",">
            <if test="tcodeid != null and tcodeid !=''">
                #{tcodeid},
            </if>
            <if test="tcodename != null and tcodename !=''">
                #{tcodename},
            </if>
            <if test="modifyflag != null and modifyflag !=''">
                #{modifyflag},
            </if>
            <if test="description != null and description !=''">
                #{description},
            </if>
            <if test="inid != null and inid !=''">
                #{inid},
            </if>
            <if test="indt != null and indt !=''">
                #{indt},
            </if>
            <if test="upid != null and upid !=''">
                #{upid},
            </if>
            <if test="updt != null and updt !=''">
                #{updt},
            </if>
            </trim>
        )
    </insert>

    <!-- 시스템관리 > 코드관리 > 코드분류 수정 팝업 > 상세조회 -->
    <select id="getCodeCategoryDetail" parameterType="com.anylogic.ssystem.bms.com.model.GetCodeCategoryDetailReqVO" resultMap="getCodeCategoryDetailMap">
        SELECT
            tcodeid as "tcodeid" 
            , tcodename as "tcodename" 
            , modifyflag as "modifyflag" 
            , description as "description" 
            , inid as "inid" 
            , indt as "indt" 
            , upid as "upid" 
            , updt as "updt" 
        FROM  sbms.sbms_user.bms_tcode
        WHERE 1 = 1
            <if test="tcodeid != null and tcodeid !=''"> 
                and tcodeid like CONCAT('%', #{tcodeid}, '%') 
            </if>
    </select>

    <!-- 시스템관리 > 코드관리 > 코드분류 수정 팝업 > 수정 -->
    <update id="updateCodeCategory" parameterType="com.anylogic.ssystem.bms.com.model.UpdateCodeCategoryReqVO">
        UPDATE sbms.sbms_user.bms_tcode
        <trim prefix="SET" suffixOverrides=",">
            <if test="tcodename != null">
                tcodename = #{tcodename},
            </if>
            <if test="modifyflag != null and modifyflag !=''">
                modifyflag = #{modifyflag},
            </if>
            <if test="description != null and description !=''">
                description = #{description},
            </if>
            <if test="inid != null and inid !=''">
                inid = #{inid},
            </if>
            <if test="indt != null and indt !=''">
                indt = #{indt},
            </if>
            <if test="upid != null and upid !=''">
                upid = #{upid},
            </if>
            <if test="updt != null and updt !=''">
                updt = #{updt},
            </if>
        </trim>
        WHERE 1 = 1
            and tcodeid = #{tcodeid}
    </update>

</mapper>
